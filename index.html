<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>8-Week Senior Engineer Roadmap</title>
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,300;12..96,500;12..96,700;12..96,800&family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #0c0e10;
  --surface: #13161a;
  --surface2: #1a1e24;
  --border: #252a33;
  --border2: #2e3540;
  --accent: #3b82f6;
  --accent-dim: rgba(59,130,246,0.12);
  --green: #22c55e;
  --green-dim: rgba(34,197,94,0.1);
  --amber: #f59e0b;
  --amber-dim: rgba(245,158,11,0.1);
  --red: #ef4444;
  --text: #e2e8f0;
  --muted: #64748b;
  --muted2: #94a3b8;

  --w1: #6366f1; --w2: #8b5cf6;
  --w3: #10b981; --w4: #059669;
  --w5: #f97316; --w6: #ea580c;
  --w7: #eab308; --w8: #ca8a04;
}

* { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Bricolage Grotesque', sans-serif;
  min-height: 100vh;
  padding-bottom: 120px;
}

/* TOPBAR */
.topbar {
  position: sticky;
  top: 0;
  z-index: 100;
  background: rgba(12,14,16,0.9);
  backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--border);
  padding: 0 24px;
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}
.topbar-left {
  display: flex;
  align-items: center;
  gap: 12px;
}
.topbar-logo {
  font-size: 13px;
  font-weight: 700;
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
}
.topbar-logo span { color: var(--accent); }

.global-progress {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1;
  max-width: 300px;
}
.gp-bar-wrap {
  flex: 1;
  height: 4px;
  background: var(--border);
  border-radius: 99px;
  overflow: hidden;
}
.gp-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), var(--green));
  border-radius: 99px;
  transition: width 0.5s cubic-bezier(0.34,1.56,0.64,1);
  width: 0%;
}
.gp-pct {
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  color: var(--muted2);
  min-width: 32px;
  text-align: right;
}

.topbar-right {
  display: flex;
  align-items: center;
  gap: 8px;
}
.streak-badge {
  display: flex;
  align-items: center;
  gap: 5px;
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 5px 10px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  color: var(--amber);
}
.timer-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 5px 12px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  color: var(--muted2);
  cursor: pointer;
  transition: all 0.2s;
}
.timer-btn:hover { border-color: var(--accent); color: var(--accent); }
.timer-btn.running { border-color: var(--green); color: var(--green); }
.timer-dot { width: 6px; height: 6px; border-radius: 50%; background: currentColor; }
.timer-dot.pulse { animation: pulse 1s infinite; }

/* TIMER MODAL */
.timer-modal {
  position: fixed;
  bottom: 24px;
  right: 24px;
  z-index: 200;
  background: var(--surface);
  border: 1px solid var(--border2);
  border-radius: 16px;
  padding: 24px;
  width: 240px;
  box-shadow: 0 24px 48px rgba(0,0,0,0.5);
  display: none;
}
.timer-modal.open { display: block; animation: slideUp 0.3s ease; }
.timer-display {
  text-align: center;
  font-family: 'JetBrains Mono', monospace;
  font-size: 42px;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 8px;
  line-height: 1;
}
.timer-display.warn { color: var(--amber); }
.timer-label {
  text-align: center;
  font-size: 11px;
  color: var(--muted);
  font-family: 'JetBrains Mono', monospace;
  letter-spacing: 2px;
  text-transform: uppercase;
  margin-bottom: 20px;
}
.timer-controls { display: flex; gap: 8px; }
.tm-btn {
  flex: 1;
  padding: 8px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--surface2);
  color: var(--text);
  font-size: 12px;
  font-family: 'Bricolage Grotesque', sans-serif;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s;
}
.tm-btn:hover { border-color: var(--accent); color: var(--accent); }
.tm-btn.primary { background: var(--accent); border-color: var(--accent); color: #fff; }
.tm-btn.primary:hover { background: #2563eb; }
.tm-close {
  position: absolute;
  top: 12px; right: 12px;
  background: none;
  border: none;
  color: var(--muted);
  cursor: pointer;
  font-size: 16px;
  line-height: 1;
  padding: 4px;
}
.sessions-today {
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.sessions-today .s-label { font-size: 11px; color: var(--muted); font-family: 'JetBrains Mono', monospace; }
.session-dots { display: flex; gap: 4px; }
.session-dot {
  width: 8px; height: 8px;
  border-radius: 50%;
  background: var(--border2);
  transition: background 0.3s;
}
.session-dot.done { background: var(--green); }

/* MAIN LAYOUT */
.main { max-width: 980px; margin: 0 auto; padding: 48px 24px 0; }

/* HERO */
.hero {
  margin-bottom: 56px;
}
.hero-tag {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: var(--accent-dim);
  border: 1px solid rgba(59,130,246,0.2);
  border-radius: 6px;
  padding: 5px 12px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  color: var(--accent);
  letter-spacing: 1px;
  margin-bottom: 20px;
}
.hero h1 {
  font-size: clamp(36px,5.5vw,62px);
  font-weight: 800;
  line-height: 1.0;
  color: #fff;
  margin-bottom: 12px;
  letter-spacing: -1.5px;
}
.hero h1 em {
  font-style: normal;
  color: var(--accent);
}
.hero-sub {
  font-size: 15px;
  color: var(--muted2);
  font-family: 'JetBrains Mono', monospace;
  margin-bottom: 32px;
}

/* STATS ROW */
.stats-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  margin-bottom: 48px;
}
.stat-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 18px 20px;
  cursor: default;
}
.stat-num {
  font-size: 28px;
  font-weight: 800;
  font-family: 'JetBrains Mono', monospace;
  color: #fff;
  margin-bottom: 4px;
  line-height: 1;
}
.stat-num span { font-size: 14px; color: var(--muted); font-weight: 400; }
.stat-label { font-size: 12px; color: var(--muted); }
#stat-done { color: var(--green); }
#stat-streak { color: var(--amber); }

/* START DATE */
.start-section {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 20px 24px;
  margin-bottom: 40px;
  display: flex;
  align-items: center;
  gap: 20px;
  flex-wrap: wrap;
}
.start-section label {
  font-size: 14px;
  font-weight: 600;
  color: var(--text);
  white-space: nowrap;
}
.start-section input[type="date"] {
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 6px;
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 13px;
  padding: 7px 12px;
  outline: none;
  cursor: pointer;
}
.start-section input:focus { border-color: var(--accent); }
.current-week-info {
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  color: var(--accent);
  flex: 1;
}

/* HONEST NOTE */
.honest-note {
  background: #15100a;
  border: 1px solid rgba(245,158,11,0.25);
  border-left: 3px solid var(--amber);
  border-radius: 8px;
  padding: 16px 20px;
  margin-bottom: 48px;
  display: flex;
  gap: 14px;
  align-items: flex-start;
}
.honest-icon { font-size: 18px; flex-shrink: 0; margin-top: 1px; }
.honest-note p { font-size: 13px; color: #b8935a; line-height: 1.7; }
.honest-note strong { color: var(--text); }

/* MONTH DIVIDER */
.month-divider {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 20px;
  margin-top: 56px;
}
.month-divider:first-of-type { margin-top: 0; }
.md-tag {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  letter-spacing: 2px;
  color: var(--muted);
  text-transform: uppercase;
  white-space: nowrap;
  border: 1px solid var(--border);
  padding: 3px 8px;
  border-radius: 4px;
}
.md-title {
  font-size: 20px;
  font-weight: 800;
  letter-spacing: -0.5px;
  white-space: nowrap;
}
.md-line { flex: 1; height: 1px; background: var(--border); }
.md-pct {
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  color: var(--muted);
  white-space: nowrap;
}

/* WEEK CARD */
.weeks-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 16px;
}
.week-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
  transition: border-color 0.2s, transform 0.2s;
  position: relative;
}
.week-card:hover { transform: translateY(-1px); border-color: var(--card-color, var(--border)); }
.week-card.active-week {
  border-color: var(--card-color);
  box-shadow: 0 0 0 1px var(--card-color), 0 8px 24px rgba(0,0,0,0.4);
}
.week-card.completed-week { opacity: 0.7; }

.wc-header {
  padding: 18px 20px 14px;
  border-bottom: 1px solid var(--border);
  position: relative;
}
.wc-top-line {
  height: 2px;
  background: var(--card-color, var(--border));
  position: absolute;
  top: 0; left: 0; right: 0;
}
.wc-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
}
.wc-weeknum {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  letter-spacing: 2px;
  color: var(--card-color);
  text-transform: uppercase;
}
.wc-status {
  display: flex;
  align-items: center;
  gap: 6px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  color: var(--muted);
}
.active-pill {
  background: var(--accent-dim);
  border: 1px solid rgba(59,130,246,0.3);
  color: var(--accent);
  padding: 2px 7px;
  border-radius: 4px;
  font-size: 9px;
  font-family: 'JetBrains Mono', monospace;
  letter-spacing: 1px;
}
.wc-title {
  font-size: 18px;
  font-weight: 800;
  color: #fff;
  letter-spacing: -0.3px;
  margin-bottom: 3px;
}
.wc-subtitle {
  font-size: 12px;
  color: var(--muted);
  font-family: 'JetBrains Mono', monospace;
}

/* Progress bar in card */
.wc-progress {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 12px;
}
.wc-pb {
  flex: 1;
  height: 3px;
  background: var(--border);
  border-radius: 99px;
  overflow: hidden;
}
.wc-pb-fill {
  height: 100%;
  background: var(--card-color);
  border-radius: 99px;
  transition: width 0.4s cubic-bezier(0.34,1.56,0.64,1);
}
.wc-pct-text {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  color: var(--muted);
  min-width: 28px;
  text-align: right;
}

/* Tasks */
.wc-tasks { padding: 4px 0; }
.task-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 10px 20px;
  cursor: pointer;
  transition: background 0.15s;
  border-bottom: 1px solid var(--border);
  user-select: none;
}
.task-item:last-child { border-bottom: none; }
.task-item:hover { background: rgba(255,255,255,0.02); }
.task-item:active { background: rgba(255,255,255,0.04); }

.task-check {
  width: 18px;
  height: 18px;
  border: 1.5px solid var(--border2);
  border-radius: 5px;
  flex-shrink: 0;
  margin-top: 1px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  background: transparent;
}
.task-item.done .task-check {
  background: var(--card-color);
  border-color: var(--card-color);
}
.task-check-icon {
  color: #fff;
  font-size: 10px;
  opacity: 0;
  transform: scale(0);
  transition: all 0.15s;
}
.task-item.done .task-check-icon {
  opacity: 1;
  transform: scale(1);
}
.task-text {
  font-size: 13px;
  color: var(--muted2);
  line-height: 1.5;
  transition: color 0.2s, text-decoration 0.2s;
}
.task-item.done .task-text {
  color: var(--muted);
  text-decoration: line-through;
  text-decoration-color: var(--border2);
}

/* Build badge */
.wc-footer {
  padding: 12px 20px;
  border-top: 1px solid var(--border);
  background: rgba(255,255,255,0.01);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}
.build-badge {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  color: var(--muted);
}
.build-dot {
  width: 5px; height: 5px;
  border-radius: 50%;
  background: var(--card-color);
  flex-shrink: 0;
}
.complete-btn {
  background: none;
  border: 1px solid var(--border2);
  border-radius: 6px;
  padding: 4px 10px;
  font-size: 11px;
  font-family: 'Bricolage Grotesque', sans-serif;
  font-weight: 600;
  color: var(--muted);
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}
.complete-btn:hover { border-color: var(--card-color); color: var(--card-color); }
.complete-btn.done-btn { border-color: var(--green); color: var(--green); background: var(--green-dim); }

/* DAILY RHYTHM */
.daily-section {
  margin-top: 56px;
  margin-bottom: 16px;
}
.section-title {
  font-size: 22px;
  font-weight: 800;
  color: #fff;
  letter-spacing: -0.5px;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.section-title::after {
  content: '';
  flex: 1;
  height: 1px;
  background: var(--border);
}

.rhythm-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}
.rhythm-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 20px;
}
.rhythm-time {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  letter-spacing: 2px;
  color: var(--muted);
  text-transform: uppercase;
  margin-bottom: 8px;
}
.rhythm-act {
  font-size: 16px;
  font-weight: 700;
  color: #fff;
  margin-bottom: 4px;
}
.rhythm-desc { font-size: 12px; color: var(--muted2); line-height: 1.5; }

/* THE RULE */
.rule-card {
  background: linear-gradient(135deg, rgba(59,130,246,0.06), rgba(34,197,94,0.04));
  border: 1px solid rgba(59,130,246,0.2);
  border-radius: 12px;
  padding: 28px;
  margin-top: 16px;
  display: flex;
  gap: 20px;
  align-items: flex-start;
}
.rule-icon { font-size: 24px; flex-shrink: 0; }
.rule-card h4 { font-size: 17px; font-weight: 800; color: #fff; margin-bottom: 8px; letter-spacing: -0.3px; }
.rule-card p { font-size: 13px; color: var(--muted2); line-height: 1.7; }
.rule-card strong { color: var(--green); }

/* RESOURCES */
.resources-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-top: 16px;
}
.resource-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 18px 20px;
}
.resource-week {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  color: var(--muted);
  letter-spacing: 1px;
  margin-bottom: 10px;
}
.resource-links { display: flex; flex-direction: column; gap: 7px; }
.resource-link {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: var(--muted2);
  text-decoration: none;
  transition: color 0.15s;
}
.resource-link:hover { color: var(--accent); }
.rl-arrow { font-size: 10px; color: var(--muted); }

/* OUTCOMES */
.outcome-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-top: 16px;
}
.outcome-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 20px;
  text-align: center;
}
.outcome-num {
  font-size: 26px;
  font-weight: 800;
  font-family: 'JetBrains Mono', monospace;
  background: linear-gradient(135deg, var(--accent), var(--green));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 6px;
}
.outcome-label { font-size: 12px; color: var(--muted2); line-height: 1.5; }

/* TOAST */
.toast {
  position: fixed;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%) translateY(80px);
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 8px;
  padding: 10px 18px;
  font-size: 13px;
  font-weight: 600;
  color: var(--text);
  z-index: 300;
  transition: transform 0.3s cubic-bezier(0.34,1.56,0.64,1);
  pointer-events: none;
  display: flex;
  align-items: center;
  gap: 8px;
}
.toast.show { transform: translateX(-50%) translateY(0); }
.toast.success { border-color: var(--green); color: var(--green); }
.toast.info { border-color: var(--accent); color: var(--accent); }

/* RESET */
.reset-btn {
  background: none;
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 5px 12px;
  font-size: 11px;
  color: var(--muted);
  cursor: pointer;
  font-family: 'JetBrains Mono', monospace;
  transition: all 0.2s;
}
.reset-btn:hover { border-color: var(--red); color: var(--red); }

@keyframes pulse { 0%,100% { opacity:1; } 50% { opacity:0.3; } }
@keyframes slideUp { from { opacity:0; transform:translateY(20px); } to { opacity:1; transform:translateY(0); } }
@keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
body { animation: fadeIn 0.5s ease; }

@media (max-width: 700px) {
  .weeks-grid { grid-template-columns: 1fr; }
  .stats-row { grid-template-columns: repeat(2,1fr); }
  .rhythm-grid { grid-template-columns: 1fr; }
  .resources-grid { grid-template-columns: 1fr; }
  .outcome-grid { grid-template-columns: repeat(2,1fr); }
  .topbar { padding: 0 16px; }
  .global-progress { display: none; }
}
</style>
</head>
<body>

<!-- TOPBAR -->
<div class="topbar">
  <div class="topbar-left">
    <div class="topbar-logo">rn<span>‚Üí</span>senior</div>
  </div>
  <div class="global-progress">
    <div class="gp-bar-wrap"><div class="gp-bar-fill" id="globalBar"></div></div>
    <div class="gp-pct" id="globalPct">0%</div>
  </div>
  <div class="topbar-right">
    <div class="streak-badge">üî• <span id="streakCount">0</span> day streak</div>
    <button class="timer-btn" id="timerBtn" onclick="toggleTimer()">
      <div class="timer-dot" id="timerDot"></div>
      <span id="timerBtnText">25:00</span>
    </button>
    <button class="reset-btn" onclick="confirmReset()">reset</button>
  </div>
</div>

<!-- TIMER MODAL -->
<div class="timer-modal" id="timerModal">
  <button class="tm-close" onclick="closeTimerModal()">‚úï</button>
  <div class="timer-display" id="timerDisplay">25:00</div>
  <div class="timer-label" id="timerLabel">FOCUS SESSION</div>
  <div class="timer-controls">
    <button class="tm-btn primary" id="tmStartBtn" onclick="startStopTimer()">Start</button>
    <button class="tm-btn" onclick="resetTimer()">Reset</button>
  </div>
  <div class="sessions-today">
    <span class="s-label">TODAY</span>
    <div class="session-dots" id="sessionDots">
      <div class="session-dot"></div>
      <div class="session-dot"></div>
      <div class="session-dot"></div>
      <div class="session-dot"></div>
    </div>
  </div>
</div>

<!-- MAIN -->
<div class="main">

  <!-- HERO -->
  <div class="hero">
    <div class="hero-tag">üìç 8 weeks ¬∑ 2 hrs/day ¬∑ your actual skill level</div>
    <h1>React Native ‚Üí<br><em>Senior Engineer</em></h1>
    <div class="hero-sub">PostgreSQL ¬∑ AI Integration ¬∑ AWS ¬∑ System Design</div>
  </div>

  <!-- STATS -->
  <div class="stats-row">
    <div class="stat-card">
      <div class="stat-num" id="stat-done">0</div>
      <div class="stat-label">tasks completed</div>
    </div>
    <div class="stat-card">
      <div class="stat-num"><span id="stat-total">0</span></div>
      <div class="stat-label">total tasks</div>
    </div>
    <div class="stat-card">
      <div class="stat-num" id="stat-streak" style="color: var(--amber)">0 üî•</div>
      <div class="stat-label">day streak</div>
    </div>
    <div class="stat-card">
      <div class="stat-num" id="stat-sessions" style="color: var(--green)">0</div>
      <div class="stat-label">study sessions</div>
    </div>
  </div>

  <!-- START DATE -->
  <div class="start-section">
    <label for="startDate">üìÖ Your start date:</label>
    <input type="date" id="startDate" onchange="updateStartDate()">
    <div class="current-week-info" id="currentWeekInfo">‚Üê Set your start date to track active week</div>
  </div>

  <!-- HONEST NOTE -->
  <div class="honest-note">
    <div class="honest-icon">‚ö°</div>
    <p>
      <strong>Real baseline:</strong> You're strong in React Native (4 years, shipped apps). Backend is surface-level ‚Äî MongoDB Compass for CRUD, NestJS basics. That's fine. This roadmap starts from <strong>where you actually are</strong>. Every task you check off is something you built, not watched.
    </p>
  </div>

  <!-- MONTH 1 -->
  <div class="month-divider">
    <span class="md-tag">Month 01</span>
    <div class="md-line"></div>
    <span class="md-title" style="color: var(--w1)">Backend & Database Foundation</span>
    <div class="md-line"></div>
    <span class="md-pct" id="month1pct">0%</span>
  </div>
  <div class="weeks-grid" id="month1weeks"></div>

  <!-- MONTH 2 -->
  <div class="month-divider">
    <span class="md-tag">Month 02</span>
    <div class="md-line"></div>
    <span class="md-title" style="color: var(--w5)">Cloud & Systems Thinking</span>
    <div class="md-line"></div>
    <span class="md-pct" id="month2pct">0%</span>
  </div>
  <div class="weeks-grid" id="month2weeks"></div>

  <!-- DAILY RHYTHM -->
  <div class="daily-section">
    <div class="section-title">Daily Rhythm</div>
    <div class="rhythm-grid">
      <div class="rhythm-card">
        <div class="rhythm-time">Hour 1 ‚Äî every day</div>
        <div class="rhythm-act">Build Something</div>
        <div class="rhythm-desc">Hands on code. No videos. Open docs and type. If you can't build it, you don't know it yet.</div>
      </div>
      <div class="rhythm-card">
        <div class="rhythm-time">Hour 2 ‚Äî every day</div>
        <div class="rhythm-act">Read Official Docs</div>
        <div class="rhythm-desc">PostgreSQL docs, Prisma docs, AWS docs. Not YouTube. One concept, written down in your own words.</div>
      </div>
      <div class="rhythm-card">
        <div class="rhythm-time">Weekend ‚Äî 3-4 hrs</div>
        <div class="rhythm-act">Combine & Ship</div>
        <div class="rhythm-desc">Take the week's skills and build one thing that uses all of them. Then write a README explaining your decisions.</div>
      </div>
    </div>
    <div class="rule-card" style="margin-top:12px">
      <div class="rule-icon">üîë</div>
      <div>
        <h4>The One Rule That Makes This Work</h4>
        <p>Every concept you study ‚Äî write <strong>one working example</strong> from scratch immediately after. Not a tutorial copy. Your own code, your own tiny version. That 20 minutes of struggling is worth more than 3 hours of watching. Your brain keeps what your hands have done.</p>
      </div>
    </div>
  </div>

  <!-- RESOURCES -->
  <div style="margin-top: 48px;">
    <div class="section-title">Key Resources by Week</div>
    <div class="resources-grid">
      <div class="resource-card">
        <div class="resource-week">WEEK 1‚Äì2 ¬∑ PostgreSQL + NestJS</div>
        <div class="resource-links">
          <a class="resource-link" href="https://www.postgresqltutorial.com" target="_blank"><span class="rl-arrow">‚Üí</span> postgresqltutorial.com ‚Äî free, complete</a>
          <a class="resource-link" href="https://www.prisma.io/docs" target="_blank"><span class="rl-arrow">‚Üí</span> prisma.io/docs ‚Äî connect to NestJS</a>
          <a class="resource-link" href="https://use-the-index-luke.com" target="_blank"><span class="rl-arrow">‚Üí</span> use-the-index-luke.com ‚Äî SQL performance</a>
        </div>
      </div>
      <div class="resource-card">
        <div class="resource-week">WEEK 3‚Äì4 ¬∑ AI Integration</div>
        <div class="resource-links">
          <a class="resource-link" href="https://platform.openai.com/docs" target="_blank"><span class="rl-arrow">‚Üí</span> OpenAI API docs ‚Äî start with completions</a>
          <a class="resource-link" href="https://js.langchain.com/docs" target="_blank"><span class="rl-arrow">‚Üí</span> LangChain JS ‚Äî RAG patterns</a>
          <a class="resource-link" href="https://github.com/pgvector/pgvector" target="_blank"><span class="rl-arrow">‚Üí</span> pgvector ‚Äî embeddings in PostgreSQL</a>
        </div>
      </div>
      <div class="resource-card">
        <div class="resource-week">WEEK 5‚Äì6 ¬∑ AWS</div>
        <div class="resource-links">
          <a class="resource-link" href="https://aws.amazon.com/free" target="_blank"><span class="rl-arrow">‚Üí</span> AWS Free Tier ‚Äî practice account</a>
          <a class="resource-link" href="https://aws.amazon.com/training/digital/aws-cloud-practitioner-essentials" target="_blank"><span class="rl-arrow">‚Üí</span> AWS Cloud Practitioner Essentials (free)</a>
          <a class="resource-link" href="https://acloudguru.com" target="_blank"><span class="rl-arrow">‚Üí</span> A Cloud Guru ‚Äî structured course</a>
        </div>
      </div>
      <div class="resource-card">
        <div class="resource-week">WEEK 7‚Äì8 ¬∑ System Design</div>
        <div class="resource-links">
          <a class="resource-link" href="https://github.com/donnemartin/system-design-primer" target="_blank"><span class="rl-arrow">‚Üí</span> System Design Primer (GitHub, free)</a>
          <a class="resource-link" href="https://bytebytego.com" target="_blank"><span class="rl-arrow">‚Üí</span> ByteByteGo ‚Äî visual diagrams</a>
          <a class="resource-link" href="https://excalidraw.com" target="_blank"><span class="rl-arrow">‚Üí</span> Excalidraw ‚Äî whiteboard your designs</a>
        </div>
      </div>
    </div>
  </div>

  <!-- OUTCOMES -->
  <div style="margin-top: 48px; margin-bottom: 0;">
    <div class="section-title">After 8 Weeks You Can Say</div>
    <div class="outcome-grid">
      <div class="outcome-card"><div class="outcome-num">SQL</div><div class="outcome-label">Design & query relational databases with indexes & transactions</div></div>
      <div class="outcome-card"><div class="outcome-num">AI</div><div class="outcome-label">Stream LLM responses into mobile apps end-to-end</div></div>
      <div class="outcome-card"><div class="outcome-num">AWS</div><div class="outcome-label">Deploy full stack apps with certification to prove it</div></div>
      <div class="outcome-card"><div class="outcome-num">SD</div><div class="outcome-label">Whiteboard system design from your own shipped app experience</div></div>
      <div class="outcome-card"><div class="outcome-num">4 yrs</div><div class="outcome-label">Real RN production experience ‚Äî still your biggest differentiator</div></div>
      <div class="outcome-card"><div class="outcome-num">1</div><div class="outcome-label">Portfolio project using all 4 skills ‚Äî this gets you the interview</div></div>
    </div>
  </div>

</div>

<!-- TOAST -->
<div class="toast" id="toast">‚úì Task completed</div>

<script>
// ‚îÄ‚îÄ‚îÄ DATA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const WEEKS = [
  {
    id: 'w1', num: 'WEEK 01', color: '--w1', month: 1,
    title: 'PostgreSQL Basics',
    subtitle: 'learn relational thinking first',
    level: 'starting from scratch',
    tasks: [
      'Install PostgreSQL + pgAdmin (visual GUI, like Compass)',
      'Understand tables, columns, data types vs MongoDB documents',
      'Practice SELECT, INSERT, UPDATE, DELETE ‚Äî 30 min/day',
      'Learn JOINs: what foreign keys actually mean',
      'Connect PostgreSQL to NestJS with Prisma ‚Äî first integration',
    ],
    build: 'Build: users + posts tables in Prisma, working CRUD',
  },
  {
    id: 'w2', num: 'WEEK 02', color: '--w2', month: 1,
    title: 'NestJS + PostgreSQL API',
    subtitle: 'connect your mobile skills to backend',
    level: 'building on week 1',
    tasks: [
      'Solidify NestJS: modules, services, controllers pattern',
      'Prisma relations: 1:1, 1:many, many:many schemas',
      'Transactions ‚Äî why they matter for your chat + payment apps',
      'EXPLAIN ANALYZE ‚Äî read a query plan for the first time',
      'Add JWT auth to API (you know this concept from mobile side)',
    ],
    build: 'Build: Full CRUD NestJS API for a chit fund / job app',
  },
  {
    id: 'w3', num: 'WEEK 03', color: '--w3', month: 1,
    title: 'AI Integration',
    subtitle: 'add intelligence to your existing apps',
    level: 'leverage your RN knowledge',
    tasks: [
      'Call OpenAI/Claude API from your NestJS backend',
      'Stream AI responses ‚Üí render in React Native (you know how)',
      'Prompt engineering: system prompts, few-shot examples',
      'Function calling ‚Äî AI decides which backend API to call',
      'Store and retrieve AI responses in PostgreSQL properly',
    ],
    build: 'Build: AI chat assistant wired into your existing RN app',
  },
  {
    id: 'w4', num: 'WEEK 04', color: '--w4', month: 1,
    title: 'AI at Scale',
    subtitle: 'make it production-worthy',
    level: 'go deeper',
    tasks: [
      'Vector embeddings concept ‚Äî semantic search basics',
      'Install pgvector, store embeddings in PostgreSQL',
      'RAG: your app searches its own data using AI similarity',
      'Rate limiting AI calls ‚Äî cost control matters in prod',
      'Error handling: fallbacks + caching when AI fails or is slow',
    ],
    build: 'Build: Smart job matching for JIFFL using embeddings',
  },
  {
    id: 'w5', num: 'WEEK 05', color: '--w5', month: 2,
    title: 'AWS Foundations',
    subtitle: 'where your apps actually live',
    level: 'new territory ‚Äî take it slow',
    tasks: [
      'Create AWS Free Tier account, explore the console',
      'EC2: spin up a Linux server, SSH in, run your NestJS app',
      'RDS: managed PostgreSQL ‚Äî no setup, just connect',
      'S3: file storage (like your Cone doc handling, at real scale)',
      'IAM: roles and policies ‚Äî understand least privilege',
    ],
    build: 'Deploy: NestJS API on EC2 + RDS PostgreSQL ‚Äî real cloud',
  },
  {
    id: 'w6', num: 'WEEK 06', color: '--w6', month: 2,
    title: 'AWS for Mobile',
    subtitle: 'services that directly help your RN apps',
    level: 'connect the dots',
    tasks: [
      'API Gateway: expose NestJS to mobile safely with throttling',
      'Lambda: serverless functions for background jobs (cron etc)',
      'SNS: push notifications at scale (you know FCM, this is bigger)',
      'CloudFront CDN: faster image loading in React Native',
      'AWS Cloud Practitioner exam ‚Äî study + schedule it this week',
    ],
    build: 'Add: S3 uploads + CloudFront image delivery to your project',
  },
  {
    id: 'w7', num: 'WEEK 07', color: '--w7', month: 2,
    title: 'System Design: Mobile',
    subtitle: 'you built these ‚Äî now explain them at scale',
    level: 'your strongest ground yet',
    tasks: [
      'Draw the architecture of your Zonesso chat ‚Äî what would break at 1M users?',
      'Offline-first sync: how React Query + backend handle conflicts',
      'Real-time: WebSockets vs SSE vs polling ‚Äî when to use each',
      'Push notification system design ‚Äî at Twitter scale',
      'App performance deep dive: startup time, image cache, bundle size',
    ],
    build: 'Draw: Zonesso architecture diagram on Excalidraw ‚Äî full system',
  },
  {
    id: 'w8', num: 'WEEK 08', color: '--w8', month: 2,
    title: 'System Design: Backend',
    subtitle: 'interview mode ‚Äî tie everything together',
    level: 'final push',
    tasks: [
      'Design a job feed system (whiteboard JIFFL at 10M users)',
      'Design a payment processing system (from your Cone experience)',
      'Classic: design a URL shortener and a rate limiter',
      'Take the AWS Cloud Practitioner exam this week',
      'Ship: one project with PostgreSQL + AWS + AI + README with arch decisions',
    ],
    build: 'Ship: Final portfolio project combining all 4 skills',
  },
];

// ‚îÄ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function getState() {
  const raw = localStorage.getItem('rn_roadmap_v2');
  return raw ? JSON.parse(raw) : {
    tasks: {},
    weeksDone: {},
    startDate: null,
    streak: 0,
    lastStudyDay: null,
    sessions: 0,
    sessionsToday: 0,
    sessionsDate: null,
    timerSeconds: 25 * 60,
  };
}
function saveState(s) {
  localStorage.setItem('rn_roadmap_v2', JSON.stringify(s));
}
let state = getState();

// ‚îÄ‚îÄ‚îÄ TIMER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let timerInterval = null;
let timerRunning = false;
let timerSeconds = state.timerSeconds || 25 * 60;
const WORK_SECONDS = 25 * 60;

function toggleTimer() {
  const modal = document.getElementById('timerModal');
  modal.classList.toggle('open');
}
function closeTimerModal() {
  document.getElementById('timerModal').classList.remove('open');
}
function startStopTimer() {
  if (timerRunning) {
    clearInterval(timerInterval);
    timerRunning = false;
    document.getElementById('tmStartBtn').textContent = 'Start';
    document.getElementById('timerBtn').classList.remove('running');
    document.getElementById('timerDot').classList.remove('pulse');
  } else {
    timerRunning = true;
    document.getElementById('tmStartBtn').textContent = 'Pause';
    document.getElementById('timerBtn').classList.add('running');
    document.getElementById('timerDot').classList.add('pulse');
    timerInterval = setInterval(() => {
      timerSeconds--;
      if (timerSeconds <= 0) {
        clearInterval(timerInterval);
        timerRunning = false;
        document.getElementById('tmStartBtn').textContent = 'Start';
        document.getElementById('timerBtn').classList.remove('running');
        document.getElementById('timerDot').classList.remove('pulse');
        timerSeconds = WORK_SECONDS;
        completeSession();
        showToast('üéâ Session done! Take a 5 min break.', 'success');
      }
      updateTimerDisplay();
    }, 1000);
  }
}
function resetTimer() {
  clearInterval(timerInterval);
  timerRunning = false;
  timerSeconds = WORK_SECONDS;
  document.getElementById('tmStartBtn').textContent = 'Start';
  document.getElementById('timerBtn').classList.remove('running');
  document.getElementById('timerDot').classList.remove('pulse');
  updateTimerDisplay();
}
function updateTimerDisplay() {
  const m = Math.floor(timerSeconds / 60);
  const s = timerSeconds % 60;
  const str = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  document.getElementById('timerDisplay').textContent = str;
  document.getElementById('timerBtnText').textContent = str;
  const disp = document.getElementById('timerDisplay');
  disp.classList.toggle('warn', timerSeconds < 5 * 60);
  // label
  const label = timerSeconds === WORK_SECONDS ? 'FOCUS SESSION' :
    timerRunning ? 'DEEP WORK üß†' : 'PAUSED';
  document.getElementById('timerLabel').textContent = label;
}
function completeSession() {
  const today = new Date().toDateString();
  if (state.sessionsDate !== today) {
    state.sessionsToday = 0;
    state.sessionsDate = today;
  }
  state.sessions = (state.sessions || 0) + 1;
  state.sessionsToday = Math.min((state.sessionsToday || 0) + 1, 4);
  updateStreak();
  saveState(state);
  updateStats();
  updateSessionDots();
}
function updateSessionDots() {
  const today = new Date().toDateString();
  const count = state.sessionsDate === today ? (state.sessionsToday || 0) : 0;
  document.querySelectorAll('.session-dot').forEach((d, i) => {
    d.classList.toggle('done', i < count);
  });
}

// ‚îÄ‚îÄ‚îÄ STREAK ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function updateStreak() {
  const today = new Date().toDateString();
  if (state.lastStudyDay === today) return;
  const yesterday = new Date();
  yesterday.setDate(yesterday.getDate() - 1);
  if (state.lastStudyDay === yesterday.toDateString()) {
    state.streak = (state.streak || 0) + 1;
  } else if (state.lastStudyDay !== today) {
    state.streak = 1;
  }
  state.lastStudyDay = today;
}

// ‚îÄ‚îÄ‚îÄ WEEK DETECTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function getCurrentWeekIndex() {
  if (!state.startDate) return -1;
  const start = new Date(state.startDate);
  const now = new Date();
  const diffDays = Math.floor((now - start) / (1000 * 60 * 60 * 24));
  return Math.min(Math.floor(diffDays / 7), 7);
}
function updateStartDate() {
  const val = document.getElementById('startDate').value;
  state.startDate = val;
  saveState(state);
  renderWeekCards();
  updateWeekInfo();
}
function updateWeekInfo() {
  const idx = getCurrentWeekIndex();
  const info = document.getElementById('currentWeekInfo');
  if (idx < 0) {
    info.textContent = '‚Üê Set your start date to track active week';
    return;
  }
  if (idx > 7) {
    info.textContent = 'üéâ You\'ve completed the 8-week plan!';
    return;
  }
  info.textContent = `Currently on Week ${idx + 1} of 8`;
}

// ‚îÄ‚îÄ‚îÄ RENDER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderWeekCards() {
  const activeIdx = getCurrentWeekIndex();
  ['month1weeks', 'month2weeks'].forEach((id, mi) => {
    const container = document.getElementById(id);
    container.innerHTML = '';
    WEEKS.filter(w => w.month === mi + 1).forEach(week => {
      const globalIdx = WEEKS.indexOf(week);
      const isActive = globalIdx === activeIdx;
      const isDone = state.weeksDone[week.id];
      const tasks = week.tasks.map((t, ti) => {
        const key = `${week.id}_${ti}`;
        const checked = !!state.tasks[key];
        return { text: t, key, checked };
      });
      const completedCount = tasks.filter(t => t.checked).length;
      const pct = Math.round((completedCount / tasks.length) * 100);

      const card = document.createElement('div');
      card.className = `week-card${isActive ? ' active-week' : ''}${isDone ? ' completed-week' : ''}`;
      card.style.setProperty('--card-color', `var(${week.color})`);
      card.innerHTML = `
        <div class="wc-top-line"></div>
        <div class="wc-header">
          <div class="wc-meta">
            <div class="wc-weeknum">${week.num}</div>
            <div class="wc-status">
              ${isActive ? '<span class="active-pill">ACTIVE</span>' : ''}
              ${isDone ? '<span style="color:var(--green);font-size:11px">‚úì Done</span>' : `${completedCount}/${week.tasks.length}`}
            </div>
          </div>
          <div class="wc-title">${week.title}</div>
          <div class="wc-subtitle">${week.subtitle}</div>
          <div class="wc-progress">
            <div class="wc-pb"><div class="wc-pb-fill" style="width:${pct}%"></div></div>
            <div class="wc-pct-text">${pct}%</div>
          </div>
        </div>
        <div class="wc-tasks">
          ${tasks.map(t => `
            <div class="task-item${t.checked ? ' done' : ''}" onclick="toggleTask('${t.key}', '${week.id}', this)">
              <div class="task-check"><span class="task-check-icon">‚úì</span></div>
              <div class="task-text">${t.text}</div>
            </div>
          `).join('')}
        </div>
        <div class="wc-footer">
          <div class="build-badge">
            <div class="build-dot"></div>
            ${week.build}
          </div>
          <button class="complete-btn${isDone ? ' done-btn' : ''}" onclick="toggleWeekComplete('${week.id}', event)">
            ${isDone ? '‚úì Done' : 'Mark Done'}
          </button>
        </div>
      `;
      container.appendChild(card);
    });
  });
  updateStats();
  updateMonthPct();
}

// ‚îÄ‚îÄ‚îÄ INTERACTIONS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function toggleTask(key, weekId, el) {
  state.tasks[key] = !state.tasks[key];
  el.classList.toggle('done', state.tasks[key]);
  updateStreak();
  saveState(state);
  updateStats();
  updateCardProgress(weekId);
  updateMonthPct();
  if (state.tasks[key]) {
    showToast('‚úì Task completed', 'success');
  }
}
function updateCardProgress(weekId) {
  const week = WEEKS.find(w => w.id === weekId);
  if (!week) return;
  const tasks = week.tasks.map((_, ti) => state.tasks[`${weekId}_${ti}`]);
  const done = tasks.filter(Boolean).length;
  const pct = Math.round((done / tasks.length) * 100);
  // find the card and update its bar
  document.querySelectorAll('.week-card').forEach(card => {
    const weeknum = card.querySelector('.wc-weeknum');
    if (weeknum && weeknum.textContent === week.num) {
      const fill = card.querySelector('.wc-pb-fill');
      const pctText = card.querySelector('.wc-pct-text');
      if (fill) fill.style.width = pct + '%';
      if (pctText) pctText.textContent = pct + '%';
      const statusEl = card.querySelector('.wc-status');
      if (statusEl && !state.weeksDone[weekId]) {
        const activePill = statusEl.querySelector('.active-pill');
        statusEl.innerHTML = (activePill ? activePill.outerHTML : '') + `<span style="font-size:11px">${done}/${week.tasks.length}</span>`;
      }
    }
  });
}
function toggleWeekComplete(weekId, e) {
  e.stopPropagation();
  state.weeksDone[weekId] = !state.weeksDone[weekId];
  saveState(state);
  renderWeekCards();
  showToast(state.weeksDone[weekId] ? 'üéâ Week marked complete!' : 'Week unmarked', state.weeksDone[weekId] ? 'success' : 'info');
}

// ‚îÄ‚îÄ‚îÄ STATS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function updateStats() {
  const totalTasks = WEEKS.reduce((a, w) => a + w.tasks.length, 0);
  const doneTasks = Object.values(state.tasks).filter(Boolean).length;
  const pct = Math.round((doneTasks / totalTasks) * 100);

  document.getElementById('stat-done').textContent = doneTasks;
  document.getElementById('stat-total').textContent = totalTasks;
  document.getElementById('stat-streak').textContent = (state.streak || 0) + ' üî•';
  document.getElementById('stat-sessions').textContent = state.sessions || 0;
  document.getElementById('streakCount').textContent = state.streak || 0;
  document.getElementById('globalBar').style.width = pct + '%';
  document.getElementById('globalPct').textContent = pct + '%';
}
function updateMonthPct() {
  [1, 2].forEach(mo => {
    const weeks = WEEKS.filter(w => w.month === mo);
    const total = weeks.reduce((a, w) => a + w.tasks.length, 0);
    const done = weeks.reduce((a, w) => {
      return a + w.tasks.filter((_, ti) => state.tasks[`${w.id}_${ti}`]).length;
    }, 0);
    const pct = Math.round((done / total) * 100);
    document.getElementById(`month${mo}pct`).textContent = pct + '%';
  });
}

// ‚îÄ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let toastTimeout;
function showToast(msg, type = 'info') {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.className = `toast ${type} show`;
  clearTimeout(toastTimeout);
  toastTimeout = setTimeout(() => t.classList.remove('show'), 2500);
}

// ‚îÄ‚îÄ‚îÄ RESET ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function confirmReset() {
  if (confirm('Reset all progress? This cannot be undone.')) {
    localStorage.removeItem('rn_roadmap_v2');
    state = getState();
    renderWeekCards();
    updateStats();
    updateMonthPct();
    showToast('Progress reset', 'info');
  }
}

// ‚îÄ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function init() {
  if (state.startDate) {
    document.getElementById('startDate').value = state.startDate;
  }
  renderWeekCards();
  updateStats();
  updateMonthPct();
  updateWeekInfo();
  updateTimerDisplay();
  updateSessionDots();
}
init();
</script>
</body>
</html>
